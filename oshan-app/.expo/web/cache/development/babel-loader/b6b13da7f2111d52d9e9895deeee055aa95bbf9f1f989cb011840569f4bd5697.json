{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/akhileshgogikar/Oshan/oshan-app/src/screens/ReportScreen.tsx\",\n  _this = this;\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { getStockReport } from '../services/backendService';\nimport Markdown from 'react-native-markdown-display';\nimport { useRoute } from '@react-navigation/native';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ReportScreen = function ReportScreen() {\n  var route = useRoute();\n  var _ref = route.params,\n    stockId = _ref.stockId;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    reportContent = _useState2[0],\n    setReportContent = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  useEffect(function () {\n    var fetchReport = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          setLoading(true);\n          var report = yield getStockReport(stockId);\n          setReportContent(report);\n        } catch (err) {\n          console.error(\"Failed to fetch report:\", err);\n          setError(\"Failed to load report. Please try again later.\");\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function fetchReport() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchReport();\n  }, [stockId]);\n  var onShare = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      try {\n        if (reportContent) {\n          yield Share.share({\n            message: reportContent,\n            title: `Oshan Equity Insights - Report for ${stockId}`\n          });\n        }\n      } catch (shareError) {\n        console.error('Error sharing report:', shareError);\n      }\n    });\n    return function onShare() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (loading) {\n    return _jsxDEV(View, {\n      style: styles.center,\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, _this), _jsxDEV(Text, {\n        children: \"Generating report...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, _this);\n  }\n  if (error) {\n    return _jsxDEV(View, {\n      style: styles.center,\n      children: _jsxDEV(Text, {\n        style: styles.errorText,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, _this);\n  }\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    children: [_jsxDEV(Button, {\n      onPress: onShare,\n      title: \"Share Report\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, _this), reportContent ? _jsxDEV(Markdown, {\n      style: markdownStyles,\n      children: reportContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, _this) : _jsxDEV(Text, {\n      children: \"No report content available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff'\n  },\n  center: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 16\n  }\n});\nvar markdownStyles = StyleSheet.create({\n  heading1: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    marginTop: 20\n  },\n  heading2: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    marginTop: 16\n  },\n  heading3: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 6,\n    marginTop: 12\n  },\n  body: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 10\n  },\n  list_item: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 5\n  },\n  bullet_list: {\n    marginBottom: 10\n  },\n  code_block: {\n    fontFamily: 'monospace',\n    backgroundColor: '#f0f0f0',\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 10\n  },\n  hr: {\n    borderBottomColor: '#ccc',\n    borderBottomWidth: 1,\n    marginVertical: 20\n  },\n  blockquote: {\n    borderLeftColor: '#ccc',\n    borderLeftWidth: 4,\n    paddingLeft: 10,\n    marginLeft: 5,\n    marginBottom: 10\n  }\n});\nexport default ReportScreen;","map":{"version":3,"names":["React","useEffect","useState","View","Text","ActivityIndicator","ScrollView","StyleSheet","Button","Share","getStockReport","Markdown","useRoute","jsxDEV","_jsxDEV","ReportScreen","route","_ref","params","stockId","_useState","_useState2","_slicedToArray","reportContent","setReportContent","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","fetchReport","_ref2","_asyncToGenerator","report","err","console","apply","arguments","onShare","_ref3","share","message","title","shareError","style","styles","center","children","size","color","fileName","_jsxFileName","lineNumber","columnNumber","_this","errorText","container","onPress","markdownStyles","create","flex","padding","backgroundColor","justifyContent","alignItems","fontSize","heading1","fontWeight","marginBottom","marginTop","heading2","heading3","body","lineHeight","list_item","flexDirection","bullet_list","code_block","fontFamily","borderRadius","hr","borderBottomColor","borderBottomWidth","marginVertical","blockquote","borderLeftColor","borderLeftWidth","paddingLeft","marginLeft"],"sources":["/Users/akhileshgogikar/Oshan/oshan-app/src/screens/ReportScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, ActivityIndicator, ScrollView, StyleSheet, Button, Share } from 'react-native';\nimport { getStockReport } from '../services/backendService';\nimport Markdown from 'react-native-markdown-display';\nimport { useRoute } from '@react-navigation/native'; // If using React Navigation\n\ntype ReportScreenRouteParams = {\n  stockId: string;\n};\n\nconst ReportScreen = () => {\n  const route = useRoute();\n  const { stockId } = route.params as ReportScreenRouteParams;\n  const [reportContent, setReportContent] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchReport = async () => {\n      try {\n        setLoading(true);\n        const report = await getStockReport(stockId);\n        setReportContent(report);\n      } catch (err) {\n        console.error(\"Failed to fetch report:\", err);\n        setError(\"Failed to load report. Please try again later.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchReport();\n  }, [stockId]);\n\n  const onShare = async () => {\n    try {\n      if (reportContent) {\n        await Share.share({\n          message: reportContent,\n          title: `Oshan Equity Insights - Report for ${stockId}`,\n        });\n      }\n    } catch (shareError) {\n      console.error('Error sharing report:', shareError);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View style={styles.center}>\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n        <Text>Generating report...</Text>\n      </View>\n    );\n  }\n\n  if (error) {\n    return (\n      <View style={styles.center}>\n        <Text style={styles.errorText}>{error}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <ScrollView style={styles.container}>\n      <Button onPress={onShare} title=\"Share Report\" />\n      {reportContent ? (\n        <Markdown style={markdownStyles}>{reportContent}</Markdown>\n      ) : (\n        <Text>No report content available.</Text>\n      )}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    backgroundColor: '#fff',\n  },\n  center: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  errorText: {\n    color: 'red',\n    fontSize: 16,\n  },\n});\n\nconst markdownStyles = StyleSheet.create({\n  // Basic markdown styles, customize as needed\n  heading1: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 10,\n    marginTop: 20,\n  },\n  heading2: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 8,\n    marginTop: 16,\n  },\n  heading3: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 6,\n    marginTop: 12,\n  },\n  body: {\n    fontSize: 14,\n    lineHeight: 20,\n    marginBottom: 10,\n  },\n  list_item: {\n    flexDirection: 'row',\n    alignItems: 'flex-start',\n    marginBottom: 5,\n  },\n  bullet_list: {\n    marginBottom: 10,\n  },\n  code_block: {\n    fontFamily: 'monospace',\n    backgroundColor: '#f0f0f0',\n    padding: 10,\n    borderRadius: 5,\n    marginBottom: 10,\n  },\n  hr: {\n    borderBottomColor: '#ccc',\n    borderBottomWidth: 1,\n    marginVertical: 20,\n  },\n  blockquote: {\n    borderLeftColor: '#ccc',\n    borderLeftWidth: 4,\n    paddingLeft: 10,\n    marginLeft: 5,\n    marginBottom: 10,\n  },\n});\n\n\nexport default ReportScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}